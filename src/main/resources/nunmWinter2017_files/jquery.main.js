jQuery(function(){initCustomForms();initTouchNav();initCycleCarousel();initDropDown();initOpenClose();initSameHeight();initDropDownClasses();initChildClasses();jQuery("input, textarea").placeholder()});function initCustomForms(){jcf.setOptions("Select",{wrapNative:false,wrapNativeOnMobile:false});jcf.replaceAll()}function initCycleCarousel(){jQuery("div.cycle-gallery").scrollAbsoluteGallery({mask:"div.mask",slider:"div.slideset",slides:"div.slide",btnPrev:"a.btn-prev",btnNext:"a.btn-next",pagerLinks:".pagination li",stretchSlideToMask:true,pauseOnHover:true,maskAutoSize:true,autoRotation:true,switchTime:5000,animSpeed:500})}function initDropDown(){jQuery("ul#nav").animDropdown({items:"li",drop:">ul",animSpeed:400,effect:"fade"})}function initOpenClose(){jQuery(".nav-holder").openClose({activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"slide"})}function initSameHeight(){jQuery(".three-columns").sameHeight({elements:".col",useMinHeight:true,flexible:true,multiLine:true,biggestHeight:true})}function initTouchNav(){jQuery("#nav").each(function(){new TouchNav({navBlock:this})})}function initDropDownClasses(){jQuery("#nav li").each(function(){var c=jQuery(this);var a=c.find("ul");var b=c.find("a").eq(0);if(a.length){c.addClass("has-drop-down");if(b.length){b.addClass("has-drop-down-a")}}})}function initChildClasses(){jQuery(".listing-table tbody").children(":even").addClass("even")}(function(c){function b(d){this.options=c.extend({activeClass:"active",mask:"div.slides-mask",slider:">ul",slides:">li",btnPrev:".btn-prev",btnNext:".btn-next",pagerLinks:"ul.pager > li",generatePagination:false,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",galleryReadyClass:"gallery-js-ready",currentNumber:"span.current-num",totalNumber:"span.total-num",maskAutoSize:false,autoRotation:false,pauseOnHover:false,stretchSlideToMask:false,switchTime:3000,animSpeed:500,handleTouch:true,swipeThreshold:15,vertical:false},d);this.init()}b.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.makeCallback("onInit",this)}},findElements:function(){this.holder=c(this.options.holder).addClass(this.options.galleryReadyClass);this.mask=this.holder.find(this.options.mask);this.slider=this.mask.find(this.options.slider);this.slides=this.slider.find(this.options.slides);this.btnPrev=this.holder.find(this.options.btnPrev);this.btnNext=this.holder.find(this.options.btnNext);this.currentNumber=this.holder.find(this.options.currentNumber);this.totalNumber=this.holder.find(this.options.totalNumber);if(typeof this.options.generatePagination==="string"){this.pagerLinks=this.buildPagination()}else{this.pagerLinks=this.holder.find(this.options.pagerLinks)}this.sizeProperty=this.options.vertical?"height":"width";this.positionProperty=this.options.vertical?"top":"left";this.animProperty=this.options.vertical?"marginTop":"marginLeft";this.slideSize=this.slides[this.sizeProperty]();this.currentIndex=0;this.prevIndex=0;this.options.maskAutoSize=this.options.vertical?false:this.options.maskAutoSize;if(this.options.vertical){this.mask.css({height:this.slides.innerHeight()})}if(this.options.maskAutoSize){this.mask.css({height:this.slider.height()})}this.slider.css({position:"relative",height:this.options.vertical?this.slideSize*this.slides.length:"100%"});this.slides.css({position:"absolute"}).css(this.positionProperty,-9999).eq(this.currentIndex).css(this.positionProperty,0);this.refreshState()},buildPagination:function(){var d=c();if(!this.pagerHolder){this.pagerHolder=this.holder.find(this.options.generatePagination)}if(this.pagerHolder.length){this.pagerHolder.empty();this.pagerList=c(this.options.pagerList).appendTo(this.pagerHolder);for(var e=0;e<this.slides.length;e++){c(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(e+1)}d=this.pagerList.children()}return d},attachEvents:function(){var d=this;if(this.btnPrev.length){this.btnPrevHandler=function(f){f.preventDefault();d.prevSlide()};this.btnPrev.click(this.btnPrevHandler)}if(this.btnNext.length){this.btnNextHandler=function(f){f.preventDefault();d.nextSlide()};this.btnNext.click(this.btnNextHandler)}if(this.pagerLinks.length){this.pagerLinksHandler=function(f){f.preventDefault();d.numSlide(d.pagerLinks.index(f.currentTarget))};this.pagerLinks.click(this.pagerLinksHandler)}if(this.options.pauseOnHover){this.hoverHandler=function(){clearTimeout(d.timer)};this.leaveHandler=function(){d.autoRotate()};this.holder.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler})}this.resizeHandler=function(){if(!d.animating){if(d.options.stretchSlideToMask){d.resizeSlides()}d.resizeHolder();d.setSlidesPosition(d.currentIndex)}};c(window).bind("load resize orientationchange",this.resizeHandler);if(d.options.stretchSlideToMask){d.resizeSlides()}if(this.options.handleTouch&&window.Hammer&&this.mask.length&&this.slides.length>1&&a){this.swipeHandler=new Hammer.Manager(this.mask[0]);this.swipeHandler.add(new Hammer.Pan({direction:d.options.vertical?Hammer.DIRECTION_VERTICAL:Hammer.DIRECTION_HORIZONTAL,threshold:d.options.swipeThreshold}));this.swipeHandler.on("panstart",function(){if(d.animating){d.swipeHandler.stop()}else{clearTimeout(d.timer)}}).on("panmove",function(f){d.swipeOffset=-d.slideSize+f[d.options.vertical?"deltaY":"deltaX"];d.slider.css(d.animProperty,d.swipeOffset);clearTimeout(d.timer)}).on("panend",function(f){if(f.distance>d.options.swipeThreshold){if(f.offsetDirection===Hammer.DIRECTION_RIGHT||f.offsetDirection===Hammer.DIRECTION_DOWN){d.nextSlide()}else{d.prevSlide()}}else{var g={};g[d.animProperty]=-d.slideSize;d.slider.animate(g,{duration:d.options.animSpeed});d.autoRotate()}d.swipeOffset=0})}this.autoRotate();this.resizeHolder();this.setSlidesPosition(this.currentIndex)},resizeSlides:function(){this.slideSize=this.mask[this.options.vertical?"height":"width"]();this.slides.css(this.sizeProperty,this.slideSize)},resizeHolder:function(){if(this.options.maskAutoSize){this.mask.css({height:this.slides.eq(this.currentIndex).outerHeight(true)})}},prevSlide:function(){if(!this.animating&&this.slides.length>1){this.direction=-1;this.prevIndex=this.currentIndex;if(this.currentIndex>0){this.currentIndex--}else{this.currentIndex=this.slides.length-1}this.switchSlide()}},nextSlide:function(d){if(!this.animating&&this.slides.length>1){this.direction=1;this.prevIndex=this.currentIndex;if(this.currentIndex<this.slides.length-1){this.currentIndex++}else{this.currentIndex=0}this.switchSlide()}},numSlide:function(d){if(!this.animating&&this.currentIndex!==d&&this.slides.length>1){this.direction=d>this.currentIndex?1:-1;this.prevIndex=this.currentIndex;this.currentIndex=d;this.switchSlide()}},preparePosition:function(){this.setSlidesPosition(this.prevIndex,this.direction<0?this.currentIndex:null,this.direction>0?this.currentIndex:null,this.direction)},setSlidesPosition:function(e,i,j,h){if(this.slides.length>1){var f=(typeof i==="number"?i:e>0?e-1:this.slides.length-1);var d=(typeof j==="number"?j:e<this.slides.length-1?e+1:0);this.slider.css(this.animProperty,this.swipeOffset?this.swipeOffset:-this.slideSize);this.slides.css(this.positionProperty,-9999).eq(e).css(this.positionProperty,this.slideSize);if(f===d&&typeof h==="number"){var g=h>0?this.slideSize*2:0;this.slides.eq(d).css(this.positionProperty,g)}else{this.slides.eq(f).css(this.positionProperty,0);this.slides.eq(d).css(this.positionProperty,this.slideSize*2)}}},switchSlide:function(){var e=this;var g=this.slides.eq(this.prevIndex);var d=this.slides.eq(this.currentIndex);this.animating=true;if(this.options.maskAutoSize){this.mask.animate({height:d.outerHeight(true)},{duration:this.options.animSpeed})}var f={};f[this.animProperty]=this.direction>0?-this.slideSize*2:0;this.preparePosition();this.slider.animate(f,{duration:this.options.animSpeed,complete:function(){e.setSlidesPosition(e.currentIndex);e.animating=false;e.autoRotate();e.makeCallback("onChange",e)}});this.refreshState();this.makeCallback("onBeforeChange",this)},refreshState:function(d){this.slides.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass);this.currentNumber.html(this.currentIndex+1);this.totalNumber.html(this.slides.length);this.holder.toggleClass("not-enough-slides",this.slides.length===1)},autoRotate:function(){var d=this;clearTimeout(this.timer);if(this.options.autoRotation){this.timer=setTimeout(function(){d.nextSlide()},this.options.switchTime)}},makeCallback:function(e){if(typeof this.options[e]==="function"){var d=Array.prototype.slice.call(arguments);d.shift();this.options[e].apply(this,d)}},destroy:function(){this.btnPrev.unbind("click",this.btnPrevHandler);this.btnNext.unbind("click",this.btnNextHandler);this.pagerLinks.unbind("click",this.pagerLinksHandler);this.holder.unbind("mouseenter",this.hoverHandler);this.holder.unbind("mouseleave",this.leaveHandler);c(window).unbind("load resize orientationchange",this.resizeHandler);clearTimeout(this.timer);if(this.swipeHandler){this.swipeHandler.destroy()}this.holder.removeClass(this.options.galleryReadyClass);this.slider.add(this.slides).removeAttr("style");if(typeof this.options.generatePagination==="string"){this.pagerHolder.empty()}}};var a=/Windows Phone/.test(navigator.userAgent)||("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch;c.fn.scrollAbsoluteGallery=function(d){return this.each(function(){c(this).data("ScrollAbsoluteGallery",new b(c.extend(d,{holder:this})))})}}(jQuery));(function(a){a.fn.animDropdown=function(d){var c=a.extend({hoverClass:"hover",dropClass:"drop-active",items:"li",drop:">ul",delay:100,animSpeed:300,effect:"fade"},d);return this.each(function(){var g=a(this),f=g.find(c.items);f.addClass(c.hoverClass).each(function(){var j=a(this),h;var i=j.find(c.drop);j.data("drop",i);if(i.length){b[c.effect].prepare({item:j,drop:i})}j.bind(window.TouchNav&&TouchNav.isActiveOn(this)?"itemhover":"mouseenter",function(k){if(k.type==="itemhover"){k.stopPropagation()}e(j);j.addClass(c.hoverClass);clearTimeout(h);h=setTimeout(function(){if(i.length&&j.hasClass(c.hoverClass)){j.addClass(c.dropClass);b[c.effect].animate({drop:i,state:true,speed:c.animSpeed,complete:function(){}})}},c.delay);j.data("timer",h)}).bind(window.TouchNav&&TouchNav.isActiveOn(this)?"itemleave":"mouseleave",function(k){if(k.type==="itemleave"){k.stopPropagation()}if(!j.hasClass(c.dropClass)){j.removeClass(c.hoverClass)}clearTimeout(h);h=setTimeout(function(){if(i.length&&j.hasClass(c.dropClass)){b[c.effect].animate({drop:i,state:false,speed:c.animSpeed,complete:function(){j.removeClass(c.hoverClass);j.removeClass(c.dropClass)}})}},c.delay);j.data("timer",h)})});f.removeClass(c.hoverClass);if(b[c.effect].postProcess){f.each(function(){b[c.effect].postProcess({item:a(this)})})}function e(h){var i=h.siblings();i.removeClass(c.hoverClass).each(function(){var j=a(this);clearTimeout(j.data("timer"))});i.filter("."+c.dropClass).each(function(){var j=jQuery(this).removeClass(c.dropClass);if(j.data("drop").length){b[c.effect].animate({drop:j.data("drop"),state:false,speed:c.animSpeed})}})}})};var b={fade:{prepare:function(c){c.drop.css({opacity:0,display:"none"})},animate:function(c){c.drop.stop().css("display","block").animate({opacity:c.state?1:0},{duration:c.speed||0,complete:function(){if(c.state){c.drop.css({opacity:""})}else{c.drop.css({opacity:0,display:"none"})}if(typeof c.complete==="function"){c.complete.call(c.drop)}}})}},slide:{prepare:function(f){var c=f.drop.wrap('<div class="drop-slide-wrapper">').show().parent();var d=f.drop.outerHeight(true);var e=f.drop.outerWidth(true);c.css({height:d,width:e,position:"absolute",overflow:"hidden",top:f.drop.css("top"),left:f.drop.css("left")});f.drop.css({position:"static",display:"block",top:"auto",left:"auto"});f.drop.data("height",d).data("wrap",c).css({marginTop:-d})},animate:function(c){c.drop.data("wrap").show().css({overflow:"hidden"});c.drop.stop().animate({marginTop:c.state?0:-c.drop.data("height")},{duration:c.speed||0,complete:function(){if(c.state){c.drop.css({marginTop:""});c.drop.data("wrap").css({overflow:""})}else{c.drop.data("wrap").css({display:"none"})}if(typeof c.complete==="function"){c.complete.call(c.drop)}}})},postProcess:function(c){if(c.item.data("drop").length){c.item.data("drop").data("wrap").css({display:"none"})}}}}}(jQuery));(function(c){function d(e){this.options=c.extend({addClassBeforeAnimation:true,hideOnClickOutside:false,activeClass:"active",opener:".opener",slider:".slide",animSpeed:400,effect:"fade",event:"click"},e);this.init()}d.prototype={init:function(){if(this.options.holder){this.findElements();this.attachEvents();this.makeCallback("onInit",this)}},findElements:function(){this.holder=c(this.options.holder);this.opener=this.holder.find(this.options.opener);this.slider=this.holder.find(this.options.slider)},attachEvents:function(){var e=this;this.eventHandler=function(f){f.preventDefault();if(e.slider.hasClass(a)){e.showSlide()}else{e.hideSlide()}};e.opener.bind(e.options.event,this.eventHandler);if(e.options.event==="over"){e.opener.bind("mouseenter",function(){e.showSlide()});e.holder.bind("mouseleave",function(){e.hideSlide()})}e.outsideClickHandler=function(g){if(e.options.hideOnClickOutside){var f=c(g.target);if(!f.is(e.holder)&&!f.closest(e.holder).length){e.hideSlide()}}};if(this.holder.hasClass(this.options.activeClass)){c(document).bind("click touchstart",e.outsideClickHandler)}else{this.slider.addClass(a)}},showSlide:function(){var e=this;if(e.options.addClassBeforeAnimation){e.holder.addClass(e.options.activeClass)}e.slider.removeClass(a);c(document).bind("click touchstart",e.outsideClickHandler);e.makeCallback("animStart",true);b[e.options.effect].show({box:e.slider,speed:e.options.animSpeed,complete:function(){if(!e.options.addClassBeforeAnimation){e.holder.addClass(e.options.activeClass)}e.makeCallback("animEnd",true)}})},hideSlide:function(){var e=this;if(e.options.addClassBeforeAnimation){e.holder.removeClass(e.options.activeClass)}c(document).unbind("click touchstart",e.outsideClickHandler);e.makeCallback("animStart",false);b[e.options.effect].hide({box:e.slider,speed:e.options.animSpeed,complete:function(){if(!e.options.addClassBeforeAnimation){e.holder.removeClass(e.options.activeClass)}e.slider.addClass(a);e.makeCallback("animEnd",false)}})},destroy:function(){this.slider.removeClass(a).css({display:""});this.opener.unbind(this.options.event,this.eventHandler);this.holder.removeClass(this.options.activeClass).removeData("OpenClose");c(document).unbind("click touchstart",this.outsideClickHandler)},makeCallback:function(f){if(typeof this.options[f]==="function"){var e=Array.prototype.slice.call(arguments);e.shift();this.options[f].apply(this,e)}}};var a="js-slide-hidden";(function(){var e=c('<style type="text/css">')[0];var f="."+a;f+="{position:absolute !important;left:-9999px !important;top:-9999px !important;display:block !important}";if(e.styleSheet){e.styleSheet.cssText=f}else{e.appendChild(document.createTextNode(f))}c("head").append(e)}());var b={slide:{show:function(e){e.box.stop(true).hide().slideDown(e.speed,e.complete)},hide:function(e){e.box.stop(true).slideUp(e.speed,e.complete)}},fade:{show:function(e){e.box.stop(true).hide().fadeIn(e.speed,e.complete)},hide:function(e){e.box.stop(true).fadeOut(e.speed,e.complete)}},none:{show:function(e){e.box.hide().show(0,e.complete)},hide:function(e){e.box.hide(0,e.complete)}}};c.fn.openClose=function(e){return this.each(function(){jQuery(this).data("OpenClose",new d(c.extend(e,{holder:this})))})}}(jQuery));(function(e){e.fn.sameHeight=function(g){var f=e.extend({skipClass:"same-height-ignore",leftEdgeClass:"same-height-left",rightEdgeClass:"same-height-right",elements:">*",flexible:false,multiLine:false,useMinHeight:false,biggestHeight:false},g);return this.each(function(){var j=e(this),m,h;var l=j.find(f.elements).not("."+f.skipClass);if(!l.length){return}function i(){l.css(f.useMinHeight&&d?"minHeight":"height","");if(f.multiLine){b(l,f)}else{c(l,j,f)}}i();var k=function(){if(!h){h=true;i();clearTimeout(m);m=setTimeout(function(){i();setTimeout(function(){h=false},10)},100)}};if(f.flexible){e(window).bind("resize orientationchange fontresize",k)}e(window).bind("load",k)})};var d=typeof document.documentElement.style.maxHeight!=="undefined";function b(i,h){var g=e(),j,k=0,f=i.eq(0).offset().top;i.each(function(m){var l=e(this);if(l.offset().top===f){g=g.add(this)}else{j=a(g);k=Math.max(k,c(g,j,h));g=l;f=l.offset().top}});if(g.length){j=a(g);k=Math.max(k,c(g,j,h))}if(h.biggestHeight){i.css(h.useMinHeight&&d?"minHeight":"height",k)}}function a(f){var g=0;f.each(function(){g=Math.max(g,e(this).outerHeight())});return g}function c(h,i,f){var j;var g=typeof i==="number"?i:i.height();h.removeClass(f.leftEdgeClass).removeClass(f.rightEdgeClass).each(function(l){var k=e(this);var m=0;var n=k.css("boxSizing")==="border-box"||k.css("-moz-box-sizing")==="border-box"||k.css("-webkit-box-sizing")==="border-box";if(typeof i!=="number"){k.parents().each(function(){var o=e(this);if(i.is(this)){return false}else{m+=o.outerHeight()-o.height()}})}j=g-m;j-=n?0:k.outerHeight()-k.height();if(j>0){k.css(f.useMinHeight&&d?"minHeight":"height",j)}});h.filter(":first").addClass(f.leftEdgeClass);h.filter(":last").addClass(f.rightEdgeClass);return j}}(jQuery));jQuery.onFontResize=(function(a){a(function(){var d="font-resize-frame-"+Math.floor(Math.random()*1000);var c=a("<iframe>").attr("id",d).addClass("font-resize-helper");c.css({width:"100em",height:"10px",position:"absolute",borderWidth:0,top:"-9999px",left:"-9999px"}).appendTo("body");if(window.attachEvent&&!window.addEventListener){c.bind("resize",function(){a.onFontResize.trigger(c[0].offsetWidth/100)})}else{var b=c[0].contentWindow.document;b.open();b.write('<script>window.onload = function(){var em = parent.jQuery("#'+d+'")[0];window.onresize = function(){if(parent.jQuery.onFontResize){parent.jQuery.onFontResize.trigger(em.offsetWidth / 100);}}};<\/script>');b.close()}jQuery.onFontResize.initialSize=c[0].offsetWidth/100});return{trigger:function(b){a(window).trigger("fontresize",[b])}}}(jQuery));
/*! http://mths.be/placeholder v2.0.7 by @mathias */
;(function(i,k,f){var b=Object.prototype.toString.call(i.operamini)=="[object OperaMini]";var a="placeholder" in k.createElement("input")&&!b;var g="placeholder" in k.createElement("textarea")&&!b;var l=f.fn;var e=f.valHooks;var c=f.propHooks;var n;var m;if(a&&g){m=l.placeholder=function(){return this};m.input=m.textarea=true}else{m=l.placeholder=function(){var p=this;p.filter((a?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":d,"blur.placeholder":h}).data("placeholder-enabled",true).trigger("blur.placeholder");return p};m.input=a;m.textarea=g;n={get:function(q){var p=f(q);var r=p.data("placeholder-password");if(r){return r[0].value}return p.data("placeholder-enabled")&&p.hasClass("placeholder")?"":q.value},set:function(q,s){var p=f(q);var r=p.data("placeholder-password");if(r){return r[0].value=s}if(!p.data("placeholder-enabled")){return q.value=s}if(s==""){q.value=s;if(q!=o()){h.call(q)}}else{if(p.hasClass("placeholder")){d.call(q,true,s)||(q.value=s)}else{q.value=s}}return p}};if(!a){e.input=n;c.value=n}if(!g){e.textarea=n;c.value=n}f(function(){f(k).delegate("form","submit.placeholder",function(){var p=f(".placeholder",this).each(d);setTimeout(function(){p.each(h)},10)})});f(i).bind("beforeunload.placeholder",function(){f(".placeholder").each(function(){this.value=""})})}function j(q){var p={};var r=/^jQuery\d+$/;f.each(q.attributes,function(t,s){if(s.specified&&!r.test(s.name)){p[s.name]=s.value}});return p}function d(q,r){var p=this;var s=f(p);if(p.value==s.attr("placeholder")&&s.hasClass("placeholder")){if(s.data("placeholder-password")){s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id"));if(q===true){return s[0].value=r}s.focus()}else{p.value="";s.removeClass("placeholder");p==o()&&p.select()}}}function h(){var t;var p=this;var s=f(p);var r=this.id;if(p.value==""){if(p.type=="password"){if(!s.data("placeholder-textinput")){try{t=s.clone().attr({type:"text"})}catch(q){t=f("<input>").attr(f.extend(j(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":s,"placeholder-id":r}).bind("focus.placeholder",d);s.data({"placeholder-textinput":t,"placeholder-id":r}).before(t)}s=s.removeAttr("id").hide().prev().attr("id",r).show()}s.addClass("placeholder");s[0].value=s.attr("placeholder")}else{s.removeClass("placeholder")}}function o(){try{return k.activeElement}catch(p){}}}(this,document,jQuery));
/*!
 * JavaScript Custom Forms
 *
 * Copyright 2014 PSD2HTML (http://psd2html.com)
 * Released under the MIT license (LICENSE.txt)
 * 
 * Version: 1.0.2
 */
;(function(a,b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{if(typeof exports==="object"){module.exports=b(require("jquery"))}else{a.jcf=b(jQuery)}}}(this,function(d){var g="1.1.2";var a=[];var c={optionsKey:"jcf",dataKey:"jcf-instance",rtlClass:"jcf-rtl",focusClass:"jcf-focus",pressedClass:"jcf-pressed",disabledClass:"jcf-disabled",hiddenClass:"jcf-hidden",resetAppearanceClass:"jcf-reset-appearance",unselectableClass:"jcf-unselectable"};var b=("ontouchstart" in window)||window.DocumentTouch&&document instanceof window.DocumentTouch,h=/Windows Phone/.test(navigator.userAgent);c.isMobileDevice=!!(b||h);var i=function(){var l=d("<style>").appendTo("head"),n=l.prop("sheet")||l.prop("styleSheet");var k=function(o,q,p){if(n.insertRule){n.insertRule(o+"{"+q+"}",p)}else{n.addRule(o,q,p)}};k("."+c.hiddenClass,"position:absolute !important;left:-9999px !important;height:1px !important;width:1px !important;margin:0 !important;border-width:0 !important;-webkit-appearance:none;-moz-appearance:none;appearance:none");k("."+c.rtlClass+"."+c.hiddenClass,"right:-9999px !important; left: auto !important");k("."+c.unselectableClass,"-webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; -webkit-tap-highlight-color: rgba(0,0,0,0);");k("."+c.resetAppearanceClass,"background: none; border: none; -webkit-appearance: none; appearance: none; opacity: 0; filter: alpha(opacity=0);");var m=d("html"),j=d("body");if(m.css("direction")==="rtl"||j.css("direction")==="rtl"){m.addClass(c.rtlClass)}m.on("reset",function(){setTimeout(function(){e.refreshAll()},0)});c.styleSheetCreated=true};(function(){var m=navigator.pointerEnabled||navigator.msPointerEnabled,q=("ontouchstart" in window)||window.DocumentTouch&&document instanceof window.DocumentTouch,l,o={},n="jcf-";if(m){l={pointerover:navigator.pointerEnabled?"pointerover":"MSPointerOver",pointerdown:navigator.pointerEnabled?"pointerdown":"MSPointerDown",pointermove:navigator.pointerEnabled?"pointermove":"MSPointerMove",pointerup:navigator.pointerEnabled?"pointerup":"MSPointerUp"}}else{l={pointerover:"mouseover",pointerdown:"mousedown"+(q?" touchstart":""),pointermove:"mousemove"+(q?" touchmove":""),pointerup:"mouseup"+(q?" touchend":"")}}d.each(l,function(s,r){d.each(r.split(" "),function(t,u){o[u]=s})});d.each(l,function(r,s){s=s.split(" ");d.event.special[n+r]={setup:function(){var t=this;d.each(s,function(v,u){if(t.addEventListener){t.addEventListener(u,p,false)}else{t["on"+u]=p}})},teardown:function(){var t=this;d.each(s,function(v,u){if(t.addEventListener){t.removeEventListener(u,p,false)}else{t["on"+u]=null}})}}});var k=null;var j=function(u){var s=Math.abs(u.pageX-k.x),r=Math.abs(u.pageY-k.y),t=25;if(s<=t&&r<=t){return true}};var p=function(t){var r=t||window.event,u=null,s=o[r.type];t=d.event.fix(r);t.type=n+s;if(r.pointerType){switch(r.pointerType){case 2:t.pointerType="touch";break;case 3:t.pointerType="pen";break;case 4:t.pointerType="mouse";break;default:t.pointerType=r.pointerType}}else{t.pointerType=r.type.substr(0,5)}if(!t.pageX&&!t.pageY){u=r.changedTouches?r.changedTouches[0]:r;t.pageX=u.pageX;t.pageY=u.pageY}if(r.type==="touchend"){k={x:t.pageX,y:t.pageY}}if(t.pointerType==="mouse"&&k&&j(t)){return}else{return(d.event.dispatch||d.event.handle).call(this,t)}}}());(function(){var l=("onwheel" in document||document.documentMode>=9?"wheel":"mousewheel DOMMouseScroll").split(" "),j="jcf-mousewheel";d.event.special[j]={setup:function(){var m=this;d.each(l,function(o,n){if(m.addEventListener){m.addEventListener(n,k,false)}else{m["on"+n]=k}})},teardown:function(){var m=this;d.each(l,function(o,n){if(m.addEventListener){m.removeEventListener(n,k,false)}else{m["on"+n]=null}})}};var k=function(o){var m=o||window.event;o=d.event.fix(m);o.type=j;if("detail" in m){o.deltaY=-m.detail}if("wheelDelta" in m){o.deltaY=-m.wheelDelta}if("wheelDeltaY" in m){o.deltaY=-m.wheelDeltaY}if("wheelDeltaX" in m){o.deltaX=-m.wheelDeltaX}if("deltaY" in m){o.deltaY=m.deltaY}if("deltaX" in m){o.deltaX=m.deltaX}o.delta=o.deltaY||o.deltaX;if(m.deltaMode===1){var n=16;o.delta*=n;o.deltaY*=n;o.deltaX*=n}return(d.event.dispatch||d.event.handle).call(this,o)}}());var f={fireNativeEvent:function(k,j){d(k).each(function(){var m=this,l;if(m.dispatchEvent){l=document.createEvent("HTMLEvents");l.initEvent(j,true,true);m.dispatchEvent(l)}else{if(document.createEventObject){l=document.createEventObject();l.target=m;m.fireEvent("on"+j,l)}}})},bindHandlers:function(){var j=this;d.each(j,function(k,l){if(k.indexOf("on")===0&&d.isFunction(l)){j[k]=function(){return l.apply(j,arguments)}}})}};var e={version:g,modules:{},getOptions:function(){return d.extend({},c)},setOptions:function(k,j){if(arguments.length>1){if(this.modules[k]){d.extend(this.modules[k].prototype.options,j)}}else{d.extend(c,k)}},addModule:function(m){var l=function(n){if(!n.element.data(c.dataKey)){n.element.data(c.dataKey,this)}a.push(this);this.options=d.extend({},c,this.options,k(n.element),n);this.bindHandlers();this.init.apply(this,arguments)};var k=function(n){var q=n.data(c.optionsKey),p=n.attr(c.optionsKey);if(q){return q}else{if(p){try{return d.parseJSON(p)}catch(o){}}}};l.prototype=m;d.extend(m,f);if(m.plugins){d.each(m.plugins,function(o,n){d.extend(n.prototype,f)})}var j=l.prototype.destroy;l.prototype.destroy=function(){this.options.element.removeData(this.options.dataKey);for(var n=a.length-1;n>=0;n--){if(a[n]===this){a.splice(n,1);break}}if(j){j.apply(this,arguments)}};this.modules[m.name]=l},getInstance:function(j){return d(j).data(c.dataKey)},replace:function(n,m,k){var l=this,j;if(!c.styleSheetCreated){i()}d(n).each(function(){var o,p=d(this);j=p.data(c.dataKey);if(j){j.refresh()}else{if(!m){d.each(l.modules,function(r,q){if(q.prototype.matchElement.call(q.prototype,p)){m=r;return false}})}if(m){o=d.extend({element:p},k);j=new l.modules[m](o)}}});return j},refresh:function(j){d(j).each(function(){var k=d(this).data(c.dataKey);if(k){k.refresh()}})},destroy:function(j){d(j).each(function(){var k=d(this).data(c.dataKey);if(k){k.destroy()}})},replaceAll:function(k){var j=this;d.each(this.modules,function(l,m){d(m.prototype.selector,k).each(function(){if(this.className.indexOf("jcf-ignore")<0){j.replace(this,l)}})})},refreshAll:function(k){if(k){d.each(this.modules,function(l,m){d(m.prototype.selector,k).each(function(){var n=d(this).data(c.dataKey);if(n){n.refresh()}})})}else{for(var j=a.length-1;j>=0;j--){a[j].refresh()}}},destroyAll:function(k){var j=this;if(k){d.each(this.modules,function(l,m){d(m.prototype.selector,k).each(function(o,p){var n=d(p).data(c.dataKey);if(n){n.destroy()}})})}else{while(a.length){a[0].destroy()}}}};return e}));
/*!
 * JavaScript Custom Forms : Select Module
 *
 * Copyright 2014 PSD2HTML (http://psd2html.com)
 * Released under the MIT license (LICENSE.txt)
 * 
 * Version: 1.0.2
 */
;(function(f,e){jcf.addModule({name:"Select",selector:"select",options:{element:null,multipleCompactStyle:false},plugins:{ListBox:c,ComboBox:g,SelectList:a},matchElement:function(h){return h.is("select")},init:function(){this.element=f(this.options.element);this.createInstance()},isListBox:function(){return this.element.is("[size]:not([jcf-size]), [multiple]")},createInstance:function(){if(this.instance){this.instance.destroy()}if(this.isListBox()&&!this.options.multipleCompactStyle){this.instance=new c(this.options)}else{this.instance=new g(this.options)}},refresh:function(){var h=(this.isListBox()&&this.instance instanceof g)||(!this.isListBox()&&this.instance instanceof c);if(h){this.createInstance()}else{this.instance.refresh()}},destroy:function(){this.instance.destroy()}});function g(h){this.options=f.extend({wrapNative:true,wrapNativeOnMobile:true,fakeDropInBody:true,useCustomScroll:true,flipDropToFit:true,VisibleItems:this.size,maxVisibleItems:10,fakeAreaStructure:'<span class="jcf-select"><span class="jcf-select-text"></span><span class="jcf-select-opener"></span></span>',fakeDropStructure:'<div class="jcf-select-drop"><div class="jcf-select-drop-content"></div></div>',optionClassPrefix:"jcf-option-",selectClassPrefix:"jcf-select-",dropContentSelector:".jcf-select-drop-content",selectTextSelector:".jcf-select-text",dropActiveClass:"jcf-drop-active",flipDropClass:"jcf-drop-flipped"},h);this.init()}f.extend(g.prototype,{init:function(){this.initStructure();this.bindHandlers();this.attachEvents();this.refresh()},initStructure:function(){this.win=f(e);this.doc=f(document);this.realElement=f(this.options.element);this.fakeElement=f(this.options.fakeAreaStructure).insertAfter(this.realElement);this.selectTextContainer=this.fakeElement.find(this.options.selectTextSelector);this.selectText=f("<span></span>").appendTo(this.selectTextContainer);b(this.fakeElement);this.fakeElement.addClass(d(this.realElement.prop("className"),this.options.selectClassPrefix));if(this.realElement.prop("multiple")){this.fakeElement.addClass("jcf-compact-multiple")}if(this.options.isMobileDevice&&this.options.wrapNativeOnMobile&&!this.options.wrapNative){this.options.wrapNative=true}if(this.options.wrapNative){this.realElement.prependTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%"}).addClass(this.options.resetAppearanceClass)}else{this.realElement.addClass(this.options.hiddenClass);this.fakeElement.attr("title",this.realElement.attr("title"));this.fakeDropTarget=this.options.fakeDropInBody?f("body"):this.fakeElement}},attachEvents:function(){var h=this;this.delayedRefresh=function(){setTimeout(function(){h.refresh();if(h.list){h.list.refresh()}},1)};if(this.options.wrapNative){this.realElement.on({focus:this.onFocus,change:this.onChange,click:this.onChange,keydown:this.onChange})}else{this.realElement.on({focus:this.onFocus,change:this.onChange,keydown:this.onKeyDown});this.fakeElement.on({"jcf-pointerdown":this.onSelectAreaPress})}},onKeyDown:function(h){if(h.which===13){this.toggleDropdown()}else{if(this.dropActive){this.delayedRefresh()}}},onChange:function(){this.refresh()},onFocus:function(){if(!this.pressedFlag||!this.focusedFlag){this.fakeElement.addClass(this.options.focusClass);this.realElement.on("blur",this.onBlur);this.toggleListMode(true);this.focusedFlag=true}},onBlur:function(){if(!this.pressedFlag){this.fakeElement.removeClass(this.options.focusClass);this.realElement.off("blur",this.onBlur);this.toggleListMode(false);this.focusedFlag=false}},onResize:function(){if(this.dropActive){this.hideDropdown()}},onSelectDropPress:function(){this.pressedFlag=true},onSelectDropRelease:function(i,h){this.pressedFlag=false;if(h.pointerType==="mouse"){this.realElement.focus()}},onSelectAreaPress:function(h){var i=!this.options.fakeDropInBody&&f(h.target).closest(this.dropdown).length;if(i||h.button>1||this.realElement.is(":disabled")){return}this.selectOpenedByEvent=h.pointerType;this.toggleDropdown();if(!this.focusedFlag){if(h.pointerType==="mouse"){this.realElement.focus()}else{this.onFocus(h)}}this.pressedFlag=true;this.fakeElement.addClass(this.options.pressedClass);this.doc.on("jcf-pointerup",this.onSelectAreaRelease)},onSelectAreaRelease:function(h){if(this.focusedFlag&&h.pointerType==="mouse"){this.realElement.focus()}this.pressedFlag=false;this.fakeElement.removeClass(this.options.pressedClass);this.doc.off("jcf-pointerup",this.onSelectAreaRelease)},onOutsideClick:function(j){var i=f(j.target),h=i.closest(this.fakeElement).length||i.closest(this.dropdown).length;if(!h){this.hideDropdown()}},onSelect:function(){this.refresh();if(this.realElement.prop("multiple")){this.repositionDropdown()}else{this.hideDropdown()}this.fireNativeEvent(this.realElement,"change")},toggleListMode:function(h){if(!this.options.wrapNative){if(h){this.realElement.attr({size:4,"jcf-size":""})}else{if(!this.options.wrapNative){this.realElement.removeAttr("size jcf-size")}}}},createDropdown:function(){if(this.dropdown){this.list.destroy();this.dropdown.remove()}this.dropdown=f(this.options.fakeDropStructure).appendTo(this.fakeDropTarget);this.dropdown.addClass(d(this.realElement.prop("className"),this.options.selectClassPrefix));b(this.dropdown);if(this.realElement.prop("multiple")){this.dropdown.addClass("jcf-compact-multiple")}if(this.options.fakeDropInBody){this.dropdown.css({position:"absolute",top:-9999})}this.list=new a({useHoverClass:true,handleResize:false,alwaysPreventMouseWheel:true,maxVisibleItems:this.options.maxVisibleItems,useCustomScroll:this.options.useCustomScroll,holder:this.dropdown.find(this.options.dropContentSelector),multipleSelectWithoutKey:this.realElement.prop("multiple"),element:this.realElement});f(this.list).on({select:this.onSelect,press:this.onSelectDropPress,release:this.onSelectDropRelease})},repositionDropdown:function(){var h=this.fakeElement.offset(),j=this.fakeElement.outerWidth(),o=this.fakeElement.outerHeight(),k=this.dropdown.css("width",j).outerHeight(),l=this.win.scrollTop(),m=this.win.height(),i,q,n,p=false;if(h.top+o+k>l+m&&h.top-k>l){p=true}if(this.options.fakeDropInBody){n=this.fakeDropTarget.css("position")!=="static"?this.fakeDropTarget.offset().top:0;if(this.options.flipDropToFit&&p){q=h.left;i=h.top-k-n}else{q=h.left;i=h.top+o-n}this.dropdown.css({width:j,left:q,top:i})}this.dropdown.add(this.fakeElement).toggleClass(this.options.flipDropClass,this.options.flipDropToFit&&p)},showDropdown:function(){if(!this.realElement.prop("options").length){return}if(!this.dropdown){this.createDropdown()}this.dropActive=true;this.dropdown.appendTo(this.fakeDropTarget);this.fakeElement.addClass(this.options.dropActiveClass);this.refreshSelectedText();this.repositionDropdown();this.list.setScrollTop(this.savedScrollTop);this.list.refresh();this.win.on("resize",this.onResize);this.doc.on("jcf-pointerdown",this.onOutsideClick)},hideDropdown:function(){if(this.dropdown){this.savedScrollTop=this.list.getScrollTop();this.fakeElement.removeClass(this.options.dropActiveClass+" "+this.options.flipDropClass);this.dropdown.removeClass(this.options.flipDropClass).detach();this.doc.off("jcf-pointerdown",this.onOutsideClick);this.win.off("resize",this.onResize);this.dropActive=false;if(this.selectOpenedByEvent==="touch"){this.onBlur()}}},toggleDropdown:function(){if(this.dropActive){this.hideDropdown()}else{this.showDropdown()}},refreshSelectedText:function(){var h=this.realElement.prop("selectedIndex"),k=this.realElement.prop("options")[h],l=k?k.getAttribute("data-image"):null,j="",i;if(this.realElement.prop("multiple")){f.each(this.realElement.prop("options"),function(m,n){if(n.selected){j+=(j?", ":"")+n.innerHTML}});this.selectText.removeAttr("class").html(j)}else{if(!k){if(this.selectImage){this.selectImage.hide()}this.selectText.removeAttr("class").empty()}else{if(this.currentSelectedText!==k.innerHTML||this.currentSelectedImage!==l){i=d(k.className,this.options.optionClassPrefix);this.selectText.attr("class",i).html(k.innerHTML);if(l){if(!this.selectImage){this.selectImage=f("<img>").prependTo(this.selectTextContainer).hide()}this.selectImage.attr("src",l).show()}else{if(this.selectImage){this.selectImage.hide()}}this.currentSelectedText=k.innerHTML;this.currentSelectedImage=l}}}},refresh:function(){if(this.realElement.prop("style").display==="none"){this.fakeElement.hide()}else{this.fakeElement.show()}this.refreshSelectedText();this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"))},destroy:function(){if(this.options.wrapNative){this.realElement.insertBefore(this.fakeElement).css({position:"",height:"",width:""}).removeClass(this.options.resetAppearanceClass)}else{this.realElement.removeClass(this.options.hiddenClass);if(this.realElement.is("[jcf-size]")){this.realElement.removeAttr("size jcf-size")}}this.fakeElement.remove();this.doc.off("jcf-pointerup",this.onSelectAreaRelease);this.realElement.off({focus:this.onFocus})}});function c(h){this.options=f.extend({wrapNative:true,useCustomScroll:true,fakeStructure:'<span class="jcf-list-box"><span class="jcf-list-wrapper"></span></span>',selectClassPrefix:"jcf-select-",listHolder:".jcf-list-wrapper"},h);this.init()}f.extend(c.prototype,{init:function(){this.bindHandlers();this.initStructure();this.attachEvents()},initStructure:function(){var h=this;this.realElement=f(this.options.element);this.fakeElement=f(this.options.fakeStructure).insertAfter(this.realElement);this.listHolder=this.fakeElement.find(this.options.listHolder);b(this.fakeElement);this.fakeElement.addClass(d(this.realElement.prop("className"),this.options.selectClassPrefix));this.realElement.addClass(this.options.hiddenClass);this.list=new a({useCustomScroll:this.options.useCustomScroll,holder:this.listHolder,selectOnClick:false,element:this.realElement})},attachEvents:function(){var h=this;this.delayedRefresh=function(i){if(i&&i.which===16){return}else{clearTimeout(h.refreshTimer);h.refreshTimer=setTimeout(function(){h.refresh()},1)}};this.realElement.on({focus:this.onFocus,click:this.delayedRefresh,keydown:this.delayedRefresh});f(this.list).on({select:this.onSelect,press:this.onFakeOptionsPress,release:this.onFakeOptionsRelease})},onFakeOptionsPress:function(i,h){this.pressedFlag=true;if(h.pointerType==="mouse"){this.realElement.focus()}},onFakeOptionsRelease:function(i,h){this.pressedFlag=false;if(h.pointerType==="mouse"){this.realElement.focus()}},onSelect:function(){this.fireNativeEvent(this.realElement,"change");this.fireNativeEvent(this.realElement,"click")},onFocus:function(){if(!this.pressedFlag||!this.focusedFlag){this.fakeElement.addClass(this.options.focusClass);this.realElement.on("blur",this.onBlur);this.focusedFlag=true}},onBlur:function(){if(!this.pressedFlag){this.fakeElement.removeClass(this.options.focusClass);this.realElement.off("blur",this.onBlur);this.focusedFlag=false}},refresh:function(){this.fakeElement.toggleClass(this.options.disabledClass,this.realElement.is(":disabled"));this.list.refresh()},destroy:function(){this.list.destroy();this.realElement.insertBefore(this.fakeElement).removeClass(this.options.hiddenClass);this.fakeElement.remove()}});function a(i){if(this.size){var h=this.size}else{var h=10}this.options=f.extend({holder:null,maxVisibleItems:10,VisibleItems:this.size,selectOnClick:true,useHoverClass:false,useCustomScroll:false,handleResize:true,multipleSelectWithoutKey:false,alwaysPreventMouseWheel:false,indexAttribute:"data-index",cloneClassPrefix:"jcf-option-",containerStructure:'<span class="jcf-list"><span class="jcf-list-content"></span></span>',containerSelector:".jcf-list-content",captionClass:"jcf-optgroup-caption",disabledClass:"jcf-disabled",optionClass:"jcf-option",groupClass:"jcf-optgroup",hoverClass:"jcf-hover",selectedClass:"jcf-selected",scrollClass:"jcf-scroll-active"},i);this.init()}f.extend(a.prototype,{init:function(){this.initStructure();this.refreshSelectedClass();this.attachEvents()},initStructure:function(){this.element=f(this.options.element);this.indexSelector="["+this.options.indexAttribute+"]";this.container=f(this.options.containerStructure).appendTo(this.options.holder);this.listHolder=this.container.find(this.options.containerSelector);this.lastClickedIndex=this.element.prop("selectedIndex");this.selectallcount=0;this.rebuildList()},attachEvents:function(){this.bindHandlers();this.listHolder.on("jcf-pointerdown",this.indexSelector,this.onItemPress);this.listHolder.on("jcf-pointerdown",this.onPress);if(this.options.useHoverClass){this.listHolder.on("jcf-pointerover",this.indexSelector,this.onHoverItem)}},onPress:function(k){f(this).trigger("press",k);this.listHolder.on("jcf-pointerup",this.onRelease);if(k.target.className=="jcf-optgroup-caption"&&this.element.prop("multiple")){var j=parseFloat(k.currentTarget.getAttribute(this.options.indexAttribute)),h=k.data&&k.data.savedPointerType||k.pointerType||"mouse",i;i=[0,this.realOptions.length-1].sort(function(m,l){return m-l});this.realOptions.each(function(l,m){m.selected=(l>=i[0]&&l<=i[1])});if((this.selectallcount&1)==0){this.realOptions.each(function(l,m){m.selected=(l>=i[0]&&l<=i[1])});k.target.textContent="Deselect All"}else{this.realOptions.each(function(l,m){m.selected=(l>=-1&&l<=-1)});k.target.textContent="Select All"}this.refreshSelectedClass();this.selectallcount++}},onRelease:function(h){f(this).trigger("release",h);this.listHolder.off("jcf-pointerup",this.onRelease)},onHoverItem:function(i){var h=parseFloat(i.currentTarget.getAttribute(this.options.indexAttribute));this.fakeOptions.removeClass(this.options.hoverClass).eq(h).addClass(this.options.hoverClass)},onItemPress:function(h){if(h.pointerType==="touch"||this.options.selectOnClick){this.tmpListOffsetTop=this.list.offset().top;this.listHolder.on("jcf-pointerup",this.indexSelector,this.onItemRelease)}else{this.onSelectItem(h)}},onItemRelease:function(h){this.listHolder.off("jcf-pointerup",this.indexSelector,this.onItemRelease);if(this.tmpListOffsetTop===this.list.offset().top){this.listHolder.on("click",this.indexSelector,{savedPointerType:h.pointerType},this.onSelectItem)}delete this.tmpListOffsetTop},onSelectItem:function(k){var j=parseFloat(k.currentTarget.getAttribute(this.options.indexAttribute)),h=k.data&&k.data.savedPointerType||k.pointerType||"mouse",i;this.listHolder.off("click",this.indexSelector,this.onSelectItem);if(k.button>1||this.realOptions[j].disabled){return}if(this.element.prop("multiple")){if(k.metaKey||k.ctrlKey||h==="touch"||k.pointerType==="mouse"||this.options.multipleSelectWithoutKey){if(k.shiftKey){i=[this.lastClickedIndex,j].sort(function(m,l){return m-l});this.realOptions.each(function(l,m){m.selected=(l>=i[0]&&l<=i[1])})}else{this.realOptions[j].selected=!this.realOptions[j].selected}}else{if(k.shiftKey){i=[this.lastClickedIndex,j].sort(function(m,l){return m-l});this.realOptions.each(function(l,m){m.selected=(l>=i[0]&&l<=i[1])})}else{this.element.prop("selectedIndex",j)}}}else{this.element.prop("selectedIndex",j)}if(!k.shiftKey){this.lastClickedIndex=j}this.refreshSelectedClass();if(h==="mouse"){this.scrollToActiveOption()}f(this).trigger("select")},rebuildList:function(){var i=this,h=this.element[0];this.storedSelectHTML=h.innerHTML;this.optionIndex=0;this.list=f(this.createOptionsList(h));this.listHolder.empty().append(this.list);this.realOptions=this.element.find("option");this.fakeOptions=this.list.find(this.indexSelector);this.fakeListItems=this.list.find("."+this.options.captionClass+","+this.indexSelector);delete this.optionIndex;var k=this.options.maxVisibleItems,l=this.element.prop("size");if(l>1&&!this.element.is("[jcf-size]")){k=l}var j=this.fakeOptions.length>k;this.container.toggleClass(this.options.scrollClass,j);if(j){this.listHolder.css({maxHeight:this.getOverflowHeight(k),overflow:"auto"});if(this.options.useCustomScroll&&jcf.modules.Scrollable){jcf.replace(this.listHolder,"Scrollable",{handleResize:this.options.handleResize,alwaysPreventMouseWheel:this.options.alwaysPreventMouseWheel});return}}if(this.options.alwaysPreventMouseWheel){this.preventWheelHandler=function(p){var n=i.listHolder.scrollTop(),o=i.listHolder.prop("scrollHeight")-i.listHolder.innerHeight(),m=i.listHolder.prop("scrollWidth")-i.listHolder.innerWidth();if((n<=0&&p.deltaY<0)||(n>=o&&p.deltaY>0)){p.preventDefault()}};this.listHolder.on("jcf-mousewheel",this.preventWheelHandler)}},refreshSelectedClass:function(){var i=this,k,j=this.element.prop("multiple"),h=this.element.prop("selectedIndex");if(j){this.realOptions.each(function(l,m){i.fakeOptions.eq(l).toggleClass(i.options.selectedClass,!!m.selected)})}else{this.fakeOptions.removeClass(this.options.selectedClass+" "+this.options.hoverClass);k=this.fakeOptions.eq(h).addClass(this.options.selectedClass);if(this.options.useHoverClass){k.addClass(this.options.hoverClass)}}},scrollToActiveOption:function(){var h=this.getActiveOptionOffset();this.listHolder.prop("scrollTop",h)},getSelectedIndexRange:function(){var h=-1,i=-1;this.realOptions.each(function(j,k){if(k.selected){if(h<0){h=j}i=j}});return[h,i]},getChangedSelectedIndex:function(){var h=this.element.prop("selectedIndex"),i;if(this.element.prop("multiple")){if(!this.previousRange){this.previousRange=[h,h]}this.currentRange=this.getSelectedIndexRange();i=this.currentRange[this.currentRange[0]!==this.previousRange[0]?0:1];this.previousRange=this.currentRange;return i}else{return h}},getActiveOptionOffset:function(){var j=this.listHolder.height(),l=this.listHolder.prop("scrollTop"),i=this.getChangedSelectedIndex(),h=this.fakeOptions.eq(i),k=h.offset().top-this.list.offset().top,m=h.innerHeight();if(k+m>=l+j){return k-j+m}else{if(k<l){return k}}},getOverflowHeight:function(k){var i=this.fakeListItems.eq(k-1),h=this.list.offset().top,j=i.offset().top,l=i.innerHeight();return j+l-h},getScrollTop:function(){return this.listHolder.scrollTop()},setScrollTop:function(h){this.listHolder.scrollTop(h)},createOption:function(j){var k=document.createElement("span");k.className=this.options.optionClass;k.innerHTML=j.innerHTML;k.setAttribute(this.options.indexAttribute,this.optionIndex++);var h,i=j.getAttribute("data-image");if(i){h=document.createElement("img");h.src=i;k.insertBefore(h,k.childNodes[0])}if(j.disabled){k.className+=" "+this.options.disabledClass}if(j.className){k.className+=" "+d(j.className,this.options.cloneClassPrefix)}return k},createOptGroup:function(i){var j=document.createElement("span"),l=i.getAttribute("label"),k,h;k=document.createElement("span");k.className=this.options.captionClass;k.innerHTML=l;j.appendChild(k);if(i.children.length){h=this.createOptionsList(i);j.appendChild(h)}j.className=this.options.groupClass;return j},createOptionContainer:function(){var h=document.createElement("li");return h},createOptionsList:function(h){var i=this,j=document.createElement("ul");f.each(h.children,function(k,m){var n=i.createOptionContainer(m),l;switch(m.tagName.toLowerCase()){case"option":l=i.createOption(m);break;case"optgroup":l=i.createOptGroup(m);break}j.appendChild(n).appendChild(l)});return j},refresh:function(){if(this.storedSelectHTML!==this.element.prop("innerHTML")){this.rebuildList()}var h=jcf.getInstance(this.listHolder);if(h){h.refresh()}this.scrollToActiveOption();this.refreshSelectedClass()},destroy:function(){this.listHolder.off("jcf-mousewheel",this.preventWheelHandler);this.listHolder.off("jcf-pointerdown",this.indexSelector,this.onSelectItem);this.listHolder.off("jcf-pointerover",this.indexSelector,this.onHoverItem);this.listHolder.off("jcf-pointerdown",this.onPress)}});var d=function(h,i){return h?h.replace(/[\s]*([\S]+)+[\s]*/gi,i+"$1 "):""};var b=(function(){var i=jcf.getOptions().unselectableClass;function h(j){j.preventDefault()}return function(j){j.addClass(i).on("selectstart",h)}}())}(jQuery,this));
/*!
 * JavaScript Custom Forms : Checkbox Module
 *
 * Copyright 2014 PSD2HTML (http://psd2html.com)
 * Released under the MIT license (LICENSE.txt)
 * 
 * Version: 1.0.2
 */
;(function(b,a){jcf.addModule({name:"Checkbox",selector:'input[type="checkbox"]',options:{wrapNative:true,checkedClass:"jcf-checked",uncheckedClass:"jcf-unchecked",labelActiveClass:"jcf-label-active",fakeStructure:'<span class="jcf-checkbox"><span></span></span>'},matchElement:function(c){return c.is(":checkbox")},init:function(c){this.initStructure();this.attachEvents();this.refresh()},initStructure:function(){var c=0;this.doc=b(document);if(b(this.options.element).attr("class")=="nostyle"){c=1}if(c){this.realElement=b(this.options.element);this.fakeElement=b(this.options.fakeStructure).insertAfter(this.realElement);this.labelElement=this.getLabelFor();if(this.options.wrapNative){this.fakeElement.appendTo(this.realElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0})}else{this.fakeElement.addClass(this.options.hiddenClass)}}else{this.realElement=b(this.options.element);this.fakeElement=b(this.options.fakeStructure).insertAfter(this.realElement);this.labelElement=this.getLabelFor();if(this.options.wrapNative){this.realElement.appendTo(this.fakeElement).css({position:"absolute",height:"100%",width:"100%",opacity:0,margin:0})}else{this.realElement.addClass(this.options.hiddenClass)}}},attachEvents:function(){this.realElement.on({focus:this.onFocus,click:this.onRealClick});this.fakeElement.on("click",this.onFakeClick);this.fakeElement.on("jcf-pointerdown",this.onPress)},onRealClick:function(d){var c=this;this.savedEventObject=d;setTimeout(function(){c.refresh()},0)},onFakeClick:function(c){if(this.options.wrapNative&&this.realElement.is(c.target)){return}if(!this.realElement.is(":disabled")){delete this.savedEventObject;this.stateChecked=this.realElement.prop("checked");this.realElement.prop("checked",!this.stateChecked);this.fireNativeEvent(this.realElement,"click");if(this.savedEventObject&&this.savedEventObject.isDefaultPrevented()){this.realElement.prop("checked",this.stateChecked)}else{this.fireNativeEvent(this.realElement,"change")}delete this.savedEventObject}},onFocus:function(){if(!this.pressedFlag||!this.focusedFlag){this.focusedFlag=true;this.fakeElement.addClass(this.options.focusClass);this.realElement.on("blur",this.onBlur)}},onBlur:function(){if(!this.pressedFlag){this.focusedFlag=false;this.fakeElement.removeClass(this.options.focusClass);this.realElement.off("blur",this.onBlur)}},onPress:function(c){if(!this.focusedFlag&&c.pointerType==="mouse"){this.realElement.focus()}this.pressedFlag=true;this.fakeElement.addClass(this.options.pressedClass);this.doc.on("jcf-pointerup",this.onRelease)},onRelease:function(c){if(this.focusedFlag&&c.pointerType==="mouse"){this.realElement.focus()}this.pressedFlag=false;this.fakeElement.removeClass(this.options.pressedClass);this.doc.off("jcf-pointerup",this.onRelease)},getLabelFor:function(){var d=this.realElement.closest("label"),c=this.realElement.prop("id");if(!d.length&&c){d=b('label[for="'+c+'"]')}return d.length?d:null},refresh:function(){var d=this.realElement.is(":checked"),c=this.realElement.is(":disabled");this.fakeElement.toggleClass(this.options.checkedClass,d).toggleClass(this.options.uncheckedClass,!d).toggleClass(this.options.disabledClass,c);if(this.labelElement){this.labelElement.toggleClass(this.options.labelActiveClass,d)}},destroy:function(){if(this.options.wrapNative){this.realElement.insertBefore(this.fakeElement).css({position:"",width:"",height:"",opacity:"",margin:""})}else{this.realElement.removeClass(this.options.hiddenClass)}this.fakeElement.off("jcf-pointerdown",this.onPress);this.fakeElement.remove();this.doc.off("jcf-pointerup",this.onRelease);this.realElement.off({focus:this.onFocus,click:this.onRealClick})}})}(jQuery,this));function TouchNav(a){this.options={hoverClass:"hover",menuItems:"li",menuOpener:"a",menuDrop:"ul",navBlock:null};for(var b in a){if(a.hasOwnProperty(b)){this.options[b]=a[b]}}this.init()}TouchNav.isActiveOn=function(a){return a&&a.touchNavActive};TouchNav.prototype={init:function(){if(typeof this.options.navBlock==="string"){this.menu=document.getElementById(this.options.navBlock)}else{if(typeof this.options.navBlock==="object"){this.menu=this.options.navBlock}}if(this.menu){this.addEvents()}},addEvents:function(){var b=this;var a=(navigator.pointerEnabled&&"pointerdown")||(navigator.msPointerEnabled&&"MSPointerDown")||(this.isTouchDevice&&"touchstart");this.menuItems=lib.queryElementsBySelector(this.options.menuItems,this.menu);var d=function(g){var e=lib.queryElementsBySelector(b.options.menuDrop,g)[0],f=lib.queryElementsBySelector(b.options.menuOpener,g)[0];if(e&&f&&(b.isTouchDevice||b.isPointerDevice)){lib.event.add(f,"click",lib.bind(b.clickHandler,b));lib.event.add(f,"mousedown",lib.bind(b.mousedownHandler,b));lib.event.add(f,a,function(h){if(!b.isTouchPointerEvent(h)){b.preventCurrentClick=false;return}b.touchFlag=true;b.currentItem=g;b.currentLink=f;b.pressHandler.apply(b,arguments)})}jQuery(g).bind("mouseenter",function(){if(!b.touchFlag){b.currentItem=g;b.mouseoverHandler()}});jQuery(g).bind("mouseleave",function(){if(!b.touchFlag){b.currentItem=g;b.mouseoutHandler()}});g.touchNavActive=true};for(var c=0;c<this.menuItems.length;c++){d(b.menuItems[c])}if(this.isTouchDevice||this.isPointerDevice){lib.event.add(document.documentElement,"mousedown",lib.bind(this.clickOutsideHandler,this));lib.event.add(document.documentElement,a,lib.bind(this.clickOutsideHandler,this))}},mousedownHandler:function(a){if(this.touchFlag){a.preventDefault();this.touchFlag=false;this.preventCurrentClick=false}},mouseoverHandler:function(){lib.addClass(this.currentItem,this.options.hoverClass);jQuery(this.currentItem).trigger("itemhover")},mouseoutHandler:function(){lib.removeClass(this.currentItem,this.options.hoverClass);jQuery(this.currentItem).trigger("itemleave")},hideActiveDropdown:function(){for(var a=0;a<this.menuItems.length;a++){if(lib.hasClass(this.menuItems[a],this.options.hoverClass)){lib.removeClass(this.menuItems[a],this.options.hoverClass);jQuery(this.menuItems[a]).trigger("itemleave")}}this.activeParent=null},pressHandler:function(a){if(this.currentItem!==this.activeParent){if(this.activeParent&&this.currentItem.parentNode===this.activeParent.parentNode){lib.removeClass(this.activeParent,this.options.hoverClass)}else{if(!this.isParent(this.activeParent,this.currentLink)){this.hideActiveDropdown()}}}this.activeParent=this.currentItem;if(lib.hasClass(this.currentItem,this.options.hoverClass)){this.preventCurrentClick=false}else{a.preventDefault();this.preventCurrentClick=true;lib.addClass(this.currentItem,this.options.hoverClass);jQuery(this.currentItem).trigger("itemhover")}},clickHandler:function(a){if(this.preventCurrentClick){a.preventDefault()}},clickOutsideHandler:function(a){var b=a.changedTouches?a.changedTouches[0]:a;if(this.activeParent&&!this.isParent(this.menu,b.target)){this.hideActiveDropdown();this.touchFlag=false}},isParent:function(a,b){while(b.parentNode){if(b.parentNode==a){return true}b=b.parentNode}return false},isTouchPointerEvent:function(a){return(a.type.indexOf("touch")>-1)||(navigator.pointerEnabled&&a.pointerType==="touch")||(navigator.msPointerEnabled&&a.pointerType==a.MSPOINTER_TYPE_TOUCH)},isPointerDevice:(function(){return !!(navigator.pointerEnabled||navigator.msPointerEnabled)}()),isTouchDevice:(function(){return !!(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch)}())};lib={hasClass:function(b,a){return b&&b.className?b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)")):false},addClass:function(b,a){if(b&&!this.hasClass(b,a)){b.className+=" "+a}},removeClass:function(b,a){if(b&&this.hasClass(b,a)){b.className=b.className.replace(new RegExp("(\\s|^)"+a+"(\\s|$)")," ")}},extend:function(c){for(var a=1;a<arguments.length;a++){for(var b in arguments[a]){if(arguments[a].hasOwnProperty(b)){c[b]=arguments[a][b]}}}return c},each:function(c,d){var b,a;if(typeof c.length==="number"){for(b=0,a=c.length;b<a;b++){if(d.call(c[b],b,c[b])===false){break}}}else{for(b in c){if(c.hasOwnProperty(b)){if(d.call(c[b],b,c[b])===false){break}}}}},event:(function(){var a=function(b){b=b||window.event;if(b.isFixed){return b}else{b.isFixed=true}if(!b.target){b.target=b.srcElement}b.preventDefault=b.preventDefault||function(){this.returnValue=false};b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=true};return b};return{add:function(d,c,b){if(!d.events){d.events={};d.handle=function(k){var h,g=d.events[k.type];k=a(k);for(var j=0,f=g.length;j<f;j++){if(g[j]){h=g[j].call(d,k);if(h===false){k.preventDefault();k.stopPropagation()}}}}}if(!d.events[c]){d.events[c]=[];if(d.addEventListener){d.addEventListener(c,d.handle,false)}else{if(d.attachEvent){d.attachEvent("on"+c,d.handle)}}}d.events[c].push(b)},remove:function(f,e,d){var b=f.events[e];for(var c=b.length-1;c>=0;c--){if(b[c]===d){b.splice(c,1)}}if(!b.length){delete f.events[e];if(f.removeEventListener){f.removeEventListener(e,f.handle,false)}else{if(f.detachEvent){f.detachEvent("on"+e,f.handle)}}}}}}()),queryElementsBySelector:function(y,a){a=a||document;if(!y){return[]}if(y===">*"){return a.children}if(typeof document.querySelectorAll==="function"){return a.querySelectorAll(y)}var m=y.split(",");var C=[];for(var q=0;q<m.length;q++){var g=[a||document];var r=m[q].replace(/^\s+/,"").replace(/\s+$/,"").split(" ");for(var A=0;A<r.length;A++){token=r[A].replace(/^\s+/,"").replace(/\s+$/,"");if(token.indexOf("#")>-1){var w=token.split("#"),e=w[0],u=w[1];var c=document.getElementById(u);if(c&&e&&c.nodeName.toLowerCase()!=e){return[]}g=c?[c]:[];continue}if(token.indexOf(".")>-1){var w=token.split("."),e=w[0]||"*",d=w[1],n=[],l=0;for(var B=0;B<g.length;B++){var o;if(e=="*"){o=g[B].getElementsByTagName("*")}else{o=g[B].getElementsByTagName(e)}for(var x=0;x<o.length;x++){n[l++]=o[x]}}g=[];var t=0;for(var v=0;v<n.length;v++){if(n[v].className&&n[v].className.match(new RegExp("(\\s|^)"+d+"(\\s|$)"))){g[t++]=n[v]}}continue}if(token.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?"?([^\]"]*)"?\]$/)){var e=RegExp.$1||"*",z=RegExp.$2,b=RegExp.$3,p=RegExp.$4;if(z.toLowerCase()=="for"&&this.browser.msie&&this.browser.version<8){z="htmlFor"}var n=[],l=0;for(var B=0;B<g.length;B++){var o;if(e=="*"){o=g[B].getElementsByTagName("*")}else{o=g[B].getElementsByTagName(e)}for(var x=0;o[x];x++){n[l++]=o[x]}}g=[];var t=0,f;switch(b){case"=":f=function(h){return(h.getAttribute(z)==p)};break;case"~":f=function(h){return(h.getAttribute(z).match(new RegExp("(\\s|^)"+p+"(\\s|$)")))};break;case"|":f=function(h){return(h.getAttribute(z).match(new RegExp("^"+p+"-?")))};break;case"^":f=function(h){return(h.getAttribute(z).indexOf(p)==0)};break;case"$":f=function(h){return(h.getAttribute(z).lastIndexOf(p)==h.getAttribute(z).length-p.length)};break;case"*":f=function(h){return(h.getAttribute(z).indexOf(p)>-1)};break;default:f=function(h){return h.getAttribute(z)}}g=[];var t=0;for(var v=0;v<n.length;v++){if(f(n[v])){g[t++]=n[v]}}continue}e=token;var n=[],l=0;for(var B=0;B<g.length;B++){var o=g[B].getElementsByTagName(e);for(var x=0;x<o.length;x++){n[l++]=o[x]}}g=n}C=[].concat(C,g)}return C},trim:function(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")},bind:function(c,b,a){return function(){return c.apply(b,typeof a!=="undefined"?[a]:arguments)}}};
/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */
;if(Object.create){!function(a7,a6,a5,a4){function a1(e,d,f){return setTimeout(aT(e,f),d)}function a0(e,d,f){return Array.isArray(e)?(aZ(e,f[d],f),!0):!1}function aZ(f,d,h){var g;if(f){if(f.forEach){f.forEach(d,h)}else{if(f.length!==a4){for(g=0;g<f.length;){d.call(h,f[g],g,f),g++}}else{for(g in f){f.hasOwnProperty(g)&&d.call(h,f[g],g,f)}}}}}function aY(g,d,j){for(var i=Object.keys(d),h=0;h<i.length;){(!j||j&&g[i[h]]===a4)&&(g[i[h]]=d[i[h]]),h++}return g}function aX(d,c){return aY(d,c,!0)}function aU(g,f,j){var i,h=f.prototype;i=g.prototype=Object.create(h),i.constructor=g,i._super=h,j&&aY(i,j)}function aT(d,c){return function(){return d.apply(c,arguments)}}function aR(d,c){return typeof d==aj?d.apply(c?c[0]||a4:a4,c):d}function aQ(d,c){return d===a4?c:d}function aP(e,d,f){aZ(aJ(d),function(a){e.addEventListener(a,f,!1)})}function aN(e,d,f){aZ(aJ(d),function(a){e.removeEventListener(a,f,!1)})}function aM(d,c){for(;d;){if(d==c){return !0}d=d.parentNode}return !1}function aK(d,c){return d.indexOf(c)>-1}function aJ(b){return b.trim().split(/\s+/g)}function aI(f,e,h){if(f.indexOf&&!h){return f.indexOf(e)}for(var g=0;g<f.length;){if(h&&f[g][h]==e||!h&&f[g]===e){return g}g++}return -1}function aH(b){return Array.prototype.slice.call(b,0)}function aG(i,h,n){for(var m=[],l=[],k=0;k<i.length;){var j=h?i[k][h]:i[k];aI(l,j)<0&&m.push(i[k]),l[k]=j,k++}return n&&(m=h?m.sort(function(b,d){return b[h]>d[h]}):m.sort()),m}function aF(h,d){for(var l,k,j=d[0].toUpperCase()+d.slice(1),i=0;i<aV.length;){if(l=aV[i],k=l?l+j:d,k in h){return k}i++}return a4}function aE(){return a2++}function aD(d){var c=d.ownerDocument;return c.defaultView||c.parentWindow}function aC(e,d){var f=this;this.manager=e,this.callback=d,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(a){aR(e.options.enable,[e])&&f.handler(a)},this.init()}function aA(e){var d,f=e.options.inputClass;return new (d=f?f:ca?bs:bZ?bo:al?bl:bt)(e,bM)}function bM(i,h,n){var m=n.pointers.length,l=n.changedPointers.length,k=h&b1&&m-l===0,j=h&(b6|bU)&&m-l===0;n.isFirst=!!k,n.isFinal=!!j,k&&(i.session={}),n.eventType=h,bK(i,n),i.emit("hammer.input",n),i.recognize(n),i.session.prevInput=n}function bK(t,s){var r=t.session,q=s.pointers,p=q.length;r.firstInput||(r.firstInput=bG(s)),p>1&&!r.firstMultiple?r.firstMultiple=bG(s):1===p&&(r.firstMultiple=!1);var o=r.firstInput,n=r.firstMultiple,m=n?n.center:o.center,l=s.center=bD(q);s.timeStamp=bE(),s.deltaTime=s.timeStamp-o.timeStamp,s.angle=bz(m,l),s.distance=bA(m,l),bJ(r,s),s.offsetDirection=bB(s.deltaX,s.deltaY),s.scale=n?bv(n.pointers,q):1,s.rotation=n?bw(n.pointers,q):0,bI(r,s);var k=t.element;aM(s.srcEvent.target,k)&&(k=s.srcEvent.target),s.target=k}function bJ(h,g){var l=g.center,k=h.offsetDelta||{},j=h.prevDelta||{},i=h.prevInput||{};(g.eventType===b1||i.eventType===b6)&&(j=h.prevDelta={x:i.deltaX||0,y:i.deltaY||0},k=h.offsetDelta={x:l.x,y:l.y}),g.deltaX=j.x+(l.x-k.x),g.deltaY=j.y+(l.y-k.y)}function bI(v,u){var t,s,r,q,p=v.lastInterval||u,o=u.timeStamp-p.timeStamp;if(u.eventType!=bU&&(o>aa||p.velocity===a4)){var n=p.deltaX-u.deltaX,m=p.deltaY-u.deltaY,d=bC(o,n,m);s=d.x,r=d.y,t=bW(d.x)>bW(d.y)?d.x:d.y,q=bB(n,m),v.lastInterval=u}else{t=p.velocity,s=p.velocityX,r=p.velocityY,q=p.direction}u.velocity=t,u.velocityX=s,u.velocityY=r,u.direction=q}function bG(e){for(var d=[],f=0;f<e.pointers.length;){d[f]={clientX:b8(e.pointers[f].clientX),clientY:b8(e.pointers[f].clientY)},f++}return{timeStamp:bE(),pointers:d,center:bD(d),deltaX:e.deltaX,deltaY:e.deltaY}}function bD(g){var f=g.length;if(1===f){return{x:b8(g[0].clientX),y:b8(g[0].clientY)}}for(var j=0,i=0,h=0;f>h;){j+=g[h].clientX,i+=g[h].clientY,h++}return{x:b8(j/f),y:b8(i/f)}}function bC(e,d,f){return{x:d/e||0,y:f/e||0}}function bB(d,c){return d===c?by:bW(d)>=bW(c)?d>0?aW:av:c>0?ak:b9}function bA(g,f,j){j||(j=ax);var i=f[j[0]]-g[j[0]],h=f[j[1]]-g[j[1]];return Math.sqrt(i*i+h*h)}function bz(g,f,j){j||(j=ax);var i=f[j[0]]-g[j[0]],h=f[j[1]]-g[j[1]];return 180*Math.atan2(h,i)/Math.PI}function bw(d,c){return bz(c[1],c[0],am)-bz(d[1],d[0],am)}function bv(d,c){return bA(c[0],c[1],am)/bA(d[0],d[1],am)}function bt(){this.evEl=b0,this.evWin=bN,this.allow=!0,this.pressed=!1,aC.apply(this,arguments)}function bs(){this.evEl=ao,this.evWin=ad,aC.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function br(){this.evTarget=bP,this.evWin=bd,this.started=!1,aC.apply(this,arguments)}function bq(f,e){var h=aH(f.touches),g=aH(f.changedTouches);return e&(b6|bU)&&(h=aG(h.concat(g),"identifier",!0)),[h,g]}function bo(){this.evTarget=ap,this.targetIds={},aC.apply(this,arguments)}function bm(r,q){var p=aH(r.touches),o=this.targetIds;if(q&(b1|bO)&&1===p.length){return o[p[0].identifier]=!0,[p,p]}var n,m,l=aH(r.changedTouches),k=[],j=this.target;if(m=p.filter(function(b){return aM(b.target,j)}),q===b1){for(n=0;n<m.length;){o[m[n].identifier]=!0,n++}}for(n=0;n<l.length;){o[l[n].identifier]&&k.push(l[n]),q&(b6|bU)&&delete o[l[n].identifier],n++}return k.length?[aG(m.concat(k),"identifier",!0),k]:void 0}function bl(){aC.apply(this,arguments);var b=aT(this.handler,this);this.touch=new bo(this.manager,b),this.mouse=new bt(this.manager,b)}function bk(d,c){this.manager=d,this.set(c)}function bj(e){if(aK(e,bn)){return bn}var d=aK(e,aL),f=aK(e,aq);return d&&f?aL+" "+aq:d||f?d?aL:aq:aK(e,bQ)?bQ:af}function bi(b){this.id=aE(),this.manager=null,this.options=aX(b||{},this.defaults),this.options.enable=aQ(this.options.enable,!0),this.state=ag,this.simultaneous={},this.requireFail=[]}function bh(b){return b&at?"cancel":b&bu?"end":b&bS?"move":b&b4?"start":""}function bg(b){return b==b9?"down":b==ak?"up":b==aW?"left":b==av?"right":""}function bf(e,d){var f=d.manager;return f?f.get(e):e}function be(){bi.apply(this,arguments)}function bY(){be.apply(this,arguments),this.pX=null,this.pY=null}function ba(){be.apply(this,arguments)}function bR(){bi.apply(this,arguments),this._timer=null,this._input=null}function bp(){be.apply(this,arguments)}function aO(){be.apply(this,arguments)}function ar(){bi.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ah(d,c){return c=c||{},c.recognizers=aQ(c.recognizers,ah.defaults.preset),new b5(d,c)}function b5(d,c){c=c||{},this.options=aX(c,ah.defaults),this.options.inputTarget=this.options.inputTarget||d,this.handlers={},this.session={},this.recognizers=[],this.element=d,this.input=aA(this),this.touchAction=new bk(this,this.options.touchAction),bT(this,!0),aZ(c.recognizers,function(f){var e=this.add(new f[0](f[1]));f[2]&&e.recognizeWith(f[2]),f[3]&&e.requireFailure(f[3])},this)}function bT(e,d){var f=e.element;aZ(e.options.cssProps,function(b,c){f.style[aF(f.style,c)]=d?b:""})}function bx(b,f){var e=a6.createEvent("Event");e.initEvent(b,!0,!0),e.gesture=f,f.target.dispatchEvent(e)}var aV=["","webkit","moz","MS","ms","o"],au=a6.createElement("div"),aj="function",b8=Math.round,bW=Math.abs,bE=Date.now,a2=1,aw=/mobile|tablet|ip(ad|hone|od)|android/i,al="ontouchstart" in a7,ca=aF(a7,"PointerEvent")!==a4,bZ=al&&aw.test(navigator.userAgent),bL="touch",a8="pen",ay="mouse",an="kinect",aa=25,b1=1,bO=2,b6=4,bU=8,by=1,aW=2,av=4,ak=8,b9=16,bX=aW|av,bF=ak|b9,a3=bX|bF,ax=["x","y"],am=["clientX","clientY"];aC.prototype={handler:function(){},init:function(){this.evEl&&aP(this.element,this.evEl,this.domHandler),this.evTarget&&aP(this.target,this.evTarget,this.domHandler),this.evWin&&aP(aD(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&aN(this.element,this.evEl,this.domHandler),this.evTarget&&aN(this.target,this.evTarget,this.domHandler),this.evWin&&aN(aD(this.element),this.evWin,this.domHandler)}};var cd={mousedown:b1,mousemove:bO,mouseup:b6},b0="mousedown",bN="mousemove mouseup";aU(bt,aC,{handler:function(d){var c=cd[d.type];c&b1&&0===d.button&&(this.pressed=!0),c&bO&&1!==d.which&&(c=b6),this.pressed&&this.allow&&(c&b6&&(this.pressed=!1),this.callback(this.manager,c,{pointers:[d],changedPointers:[d],pointerType:ay,srcEvent:d}))}});var a9={pointerdown:b1,pointermove:bO,pointerup:b6,pointercancel:bU,pointerout:bU},az={2:bL,3:a8,4:ay,5:an},ao="pointerdown",ad="pointermove pointerup pointercancel";a7.MSPointerEvent&&(ao="MSPointerDown",ad="MSPointerMove MSPointerUp MSPointerCancel"),aU(bs,aC,{handler:function(j){var i=this.store,p=!1,o=j.type.toLowerCase().replace("ms",""),n=a9[o],m=az[j.pointerType]||j.pointerType,l=m==bL,k=aI(i,j.pointerId,"pointerId");n&b1&&(0===j.button||l)?0>k&&(i.push(j),k=i.length-1):n&(b6|bU)&&(p=!0),0>k||(i[k]=j,this.callback(this.manager,n,{pointers:i,changedPointers:[j],pointerType:m,srcEvent:j}),p&&i.splice(k,1))}});var b2={touchstart:b1,touchmove:bO,touchend:b6,touchcancel:bU},bP="touchstart",bd="touchstart touchmove touchend touchcancel";aU(br,aC,{handler:function(e){var d=b2[e.type];if(d===b1&&(this.started=!0),this.started){var f=bq.call(this,e,d);d&(b6|bU)&&f[0].length-f[1].length===0&&(this.started=!1),this.callback(this.manager,d,{pointers:f[0],changedPointers:f[1],pointerType:bL,srcEvent:e})}}});var aB={touchstart:b1,touchmove:bO,touchend:b6,touchcancel:bU},ap="touchstart touchmove touchend touchcancel";aU(bo,aC,{handler:function(e){var d=aB[e.type],f=bm.call(this,e,d);f&&this.callback(this.manager,d,{pointers:f[0],changedPointers:f[1],pointerType:bL,srcEvent:e})}}),aU(bl,aC,{handler:function(g,f,j){var i=j.pointerType==bL,h=j.pointerType==ay;if(i){this.mouse.allow=!1}else{if(h&&!this.mouse.allow){return}}f&(b6|bU)&&(this.mouse.allow=!0),this.callback(g,f,j)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ae=aF(au.style,"touchAction"),b3=ae!==a4,bH="compute",af="auto",bQ="manipulation",bn="none",aL="pan-x",aq="pan-y";bk.prototype={set:function(b){b==bH&&(b=this.compute()),b3&&(this.manager.element.style[ae]=b),this.actions=b.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var b=[];return aZ(this.manager.recognizers,function(a){aR(a.options.enable,[a])&&(b=b.concat(a.getTouchAction()))}),bj(b.join(" "))},preventDefaults:function(i){if(!b3){var h=i.srcEvent,n=i.offsetDirection;if(this.manager.session.prevented){return void h.preventDefault()}var m=this.actions,l=aK(m,bn),k=aK(m,aq),j=aK(m,aL);return l||k&&n&bX||j&&n&bF?this.preventSrc(h):void 0}},preventSrc:function(b){this.manager.session.prevented=!0,b.preventDefault()}};var ag=1,b4=2,bS=4,bu=8,aS=bu,at=16,ai=32;bi.prototype={defaults:{},set:function(b){return aY(this.options,b),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(d){if(a0(d,"recognizeWith",this)){return this}var c=this.simultaneous;return d=bf(d,this),c[d.id]||(c[d.id]=d,d.recognizeWith(this)),this},dropRecognizeWith:function(b){return a0(b,"dropRecognizeWith",this)?this:(b=bf(b,this),delete this.simultaneous[b.id],this)},requireFailure:function(d){if(a0(d,"requireFailure",this)){return this}var c=this.requireFail;return d=bf(d,this),-1===aI(c,d)&&(c.push(d),d.requireFailure(this)),this},dropRequireFailure:function(d){if(a0(d,"dropRequireFailure",this)){return this}d=bf(d,this);var c=aI(this.requireFail,d);return c>-1&&this.requireFail.splice(c,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(b){return !!this.simultaneous[b.id]},emit:function(f){function e(a){h.manager.emit(h.options.event+(a?bh(g):""),f)}var h=this,g=this.state;bu>g&&e(!0),e(),g>=bu&&e(!0)},tryEmit:function(b){return this.canEmit()?this.emit(b):void (this.state=ai)},canEmit:function(){for(var b=0;b<this.requireFail.length;){if(!(this.requireFail[b].state&(ai|ag))){return !1}b++}return !0},recognize:function(d){var c=aY({},d);return aR(this.options.enable,[this,c])?(this.state&(aS|at|ai)&&(this.state=ag),this.state=this.process(c),void (this.state&(b4|bS|bu|at)&&this.tryEmit(c))):(this.reset(),void (this.state=ai))},process:function(){},getTouchAction:function(){},reset:function(){}},aU(be,bi,{defaults:{pointers:1},attrTest:function(d){var c=this.options.pointers;return 0===c||d.pointers.length===c},process:function(g){var f=this.state,j=g.eventType,i=f&(b4|bS),h=this.attrTest(g);return i&&(j&bU||!h)?f|at:i||h?j&b6?f|bu:f&b4?f|bS:b4:ai}}),aU(bY,be,{defaults:{event:"pan",threshold:10,pointers:1,direction:a3},getTouchAction:function(){var d=this.options.direction,c=[];return d&bX&&c.push(aq),d&bF&&c.push(aL),c},directionTest:function(i){var h=this.options,n=!0,m=i.distance,l=i.direction,k=i.deltaX,j=i.deltaY;return l&h.direction||(h.direction&bX?(l=0===k?by:0>k?aW:av,n=k!=this.pX,m=Math.abs(i.deltaX)):(l=0===j?by:0>j?ak:b9,n=j!=this.pY,m=Math.abs(i.deltaY))),i.direction=l,n&&m>h.threshold&&l&h.direction},attrTest:function(b){return be.prototype.attrTest.call(this,b)&&(this.state&b4||!(this.state&b4)&&this.directionTest(b))},emit:function(d){this.pX=d.deltaX,this.pY=d.deltaY;var c=bg(d.direction);c&&this.manager.emit(this.options.event+c,d),this._super.emit.call(this,d)}}),aU(ba,be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[bn]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.scale-1)>this.options.threshold||this.state&b4)},emit:function(d){if(this._super.emit.call(this,d),1!==d.scale){var c=d.scale<1?"in":"out";this.manager.emit(this.options.event+c,d)}}}),aU(bR,bi,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[af]},process:function(g){var e=this.options,j=g.pointers.length===e.pointers,i=g.distance<e.threshold,h=g.deltaTime>e.time;if(this._input=g,!i||!j||g.eventType&(b6|bU)&&!h){this.reset()}else{if(g.eventType&b1){this.reset(),this._timer=a1(function(){this.state=aS,this.tryEmit()},e.time,this)}else{if(g.eventType&b6){return aS}}}return ai},reset:function(){clearTimeout(this._timer)},emit:function(b){this.state===aS&&(b&&b.eventType&b6?this.manager.emit(this.options.event+"up",b):(this._input.timeStamp=bE(),this.manager.emit(this.options.event,this._input)))}}),aU(bp,be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[bn]},attrTest:function(b){return this._super.attrTest.call(this,b)&&(Math.abs(b.rotation)>this.options.threshold||this.state&b4)}}),aU(aO,be,{defaults:{event:"swipe",threshold:10,velocity:0.65,direction:bX|bF,pointers:1},getTouchAction:function(){return bY.prototype.getTouchAction.call(this)},attrTest:function(e){var d,f=this.options.direction;return f&(bX|bF)?d=e.velocity:f&bX?d=e.velocityX:f&bF&&(d=e.velocityY),this._super.attrTest.call(this,e)&&f&e.direction&&e.distance>this.options.threshold&&bW(d)>this.options.velocity&&e.eventType&b6},emit:function(d){var c=bg(d.direction);c&&this.manager.emit(this.options.event+c,d),this.manager.emit(this.options.event,d)}}),aU(ar,bi,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[bQ]},process:function(j){var e=this.options,p=j.pointers.length===e.pointers,o=j.distance<e.threshold,n=j.deltaTime<e.time;if(this.reset(),j.eventType&b1&&0===this.count){return this.failTimeout()}if(o&&n&&p){if(j.eventType!=b6){return this.failTimeout()}var m=this.pTime?j.timeStamp-this.pTime<e.interval:!0,l=!this.pCenter||bA(this.pCenter,j.center)<e.posThreshold;this.pTime=j.timeStamp,this.pCenter=j.center,l&&m?this.count+=1:this.count=1,this._input=j;var k=this.count%e.taps;if(0===k){return this.hasRequireFailures()?(this._timer=a1(function(){this.state=aS,this.tryEmit()},e.interval,this),b4):aS}}return ai},failTimeout:function(){return this._timer=a1(function(){this.state=ai},this.options.interval,this),ai},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==aS&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ah.VERSION="2.0.4",ah.defaults={domEvents:!1,touchAction:bH,enable:!0,inputTarget:null,inputClass:null,preset:[[bp,{enable:!1}],[ba,{enable:!1},["rotate"]],[aO,{direction:bX}],[bY,{direction:bX},["swipe"]],[ar],[ar,{event:"doubletap",taps:2},["tap"]],[bR]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var b7=1,bV=2;b5.prototype={set:function(b){return aY(this.options,b),b.touchAction&&this.touchAction.update(),b.inputTarget&&(this.input.destroy(),this.input.target=b.inputTarget,this.input.init()),this},stop:function(b){this.session.stopped=b?bV:b7},recognize:function(h){var g=this.session;if(!g.stopped){this.touchAction.preventDefaults(h);var l,k=this.recognizers,j=g.curRecognizer;(!j||j&&j.state&aS)&&(j=g.curRecognizer=null);for(var i=0;i<k.length;){l=k[i],g.stopped===bV||j&&l!=j&&!l.canRecognizeWith(j)?l.reset():l.recognize(h),!j&&l.state&(b4|bS|bu)&&(j=g.curRecognizer=l),i++}}},get:function(e){if(e instanceof bi){return e}for(var d=this.recognizers,f=0;f<d.length;f++){if(d[f].options.event==e){return d[f]}}return null},add:function(d){if(a0(d,"add",this)){return this}var c=this.get(d.options.event);return c&&this.remove(c),this.recognizers.push(d),d.manager=this,this.touchAction.update(),d},remove:function(d){if(a0(d,"remove",this)){return this}var c=this.recognizers;return d=this.get(d),c.splice(aI(c,d),1),this.touchAction.update(),this},on:function(e,d){var f=this.handlers;return aZ(aJ(e),function(b){f[b]=f[b]||[],f[b].push(d)}),this},off:function(e,d){var f=this.handlers;return aZ(aJ(e),function(b){d?f[b].splice(aI(f[b],d),1):delete f[b]}),this},emit:function(f,e){this.options.domEvents&&bx(f,e);var h=this.handlers[f]&&this.handlers[f].slice();if(h&&h.length){e.type=f,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var g=0;g<h.length;){h[g](e),g++}}},destroy:function(){this.element&&bT(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},aY(ah,{INPUT_START:b1,INPUT_MOVE:bO,INPUT_END:b6,INPUT_CANCEL:bU,STATE_POSSIBLE:ag,STATE_BEGAN:b4,STATE_CHANGED:bS,STATE_ENDED:bu,STATE_RECOGNIZED:aS,STATE_CANCELLED:at,STATE_FAILED:ai,DIRECTION_NONE:by,DIRECTION_LEFT:aW,DIRECTION_RIGHT:av,DIRECTION_UP:ak,DIRECTION_DOWN:b9,DIRECTION_HORIZONTAL:bX,DIRECTION_VERTICAL:bF,DIRECTION_ALL:a3,Manager:b5,Input:aC,TouchAction:bk,TouchInput:bo,MouseInput:bt,PointerEventInput:bs,TouchMouseInput:bl,SingleTouchInput:br,Recognizer:bi,AttrRecognizer:be,Tap:ar,Pan:bY,Swipe:aO,Pinch:ba,Rotate:bp,Press:bR,on:aP,off:aN,each:aZ,merge:aX,extend:aY,inherit:aU,bindFn:aT,prefixed:aF}),typeof define==aj&&define.amd?define(function(){return ah}):"undefined"!=typeof module&&module.exports?module.exports=ah:a7[a5]=ah}(window,document,"Hammer")};